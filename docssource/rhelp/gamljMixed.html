<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Mixed Model</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" />
</head><body>

<table width="100%" summary="page for gamljMixed"><tr><td>gamljMixed</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Mixed Model</h2>

<h3>Description</h3>

<p>Mixed Linear Model. Estimates models using 'me4::lmer()' function and provides options to facilitate estimation of 
interactions, simple slopes, simple effects, post-hoc tests, contrast analysis, effect size indexes and visualization of the results.
</p>


<h3>Usage</h3>

<pre>
gamljMixed(
  data,
  dep = NULL,
  factors = NULL,
  covs = NULL,
  modelTerms = NULL,
  fixedIntercept = TRUE,
  showParamsCI = TRUE,
  paramCIWidth = 95,
  contrasts = NULL,
  showRealNames = TRUE,
  showContrastCode = FALSE,
  plotHAxis = NULL,
  plotSepLines = NULL,
  plotSepPlots = NULL,
  plotRaw = FALSE,
  plotDvScale = FALSE,
  plotError = "none",
  ciWidth = 95,
  postHoc = NULL,
  eDesc = FALSE,
  eCovs = FALSE,
  simpleVariable = NULL,
  simpleModerator = NULL,
  simple3way = NULL,
  simpleScale = "mean_sd",
  cvalue = 1,
  percvalue = 25,
  simpleScaleLabels = "labels",
  postHocCorr = list("bonf"),
  scaling = NULL,
  dep_scale = "none",
  cluster = NULL,
  randomTerms = list(list()),
  correlatedEffects = "corr",
  reml = TRUE,
  lrtRandomEffects = FALSE,
  plotRandomEffects = FALSE,
  cimethod = "wald",
  dfmethod = "Satterthwaite",
  qq = FALSE,
  normTest = FALSE,
  normPlot = FALSE,
  residPlot = FALSE,
  clusterBoxplot = FALSE,
  randHist = FALSE,
  formula
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p>the data as a data frame</p>
</td></tr>
<tr valign="top"><td><code>dep</code></td>
<td>
<p>a string naming the dependent variable from <code>data</code>,
variable must be numeric</p>
</td></tr>
<tr valign="top"><td><code>factors</code></td>
<td>
<p>a vector of strings naming the fixed factors from
<code>data</code></p>
</td></tr>
<tr valign="top"><td><code>covs</code></td>
<td>
<p>a vector of strings naming the covariates from <code>data</code></p>
</td></tr>
<tr valign="top"><td><code>modelTerms</code></td>
<td>
<p>a list of character vectors describing fixed effects
terms</p>
</td></tr>
<tr valign="top"><td><code>fixedIntercept</code></td>
<td>
<p><code>TRUE</code> (default) or <code>FALSE</code>, estimates
fixed intercept</p>
</td></tr>
<tr valign="top"><td><code>showParamsCI</code></td>
<td>
<p><code>TRUE</code> (default) or <code>FALSE</code> , parameters CI
in table</p>
</td></tr>
<tr valign="top"><td><code>paramCIWidth</code></td>
<td>
<p>a number between 50 and 99.9 (default: 95) specifying
the confidence interval width for the parameter estimates</p>
</td></tr>
<tr valign="top"><td><code>contrasts</code></td>
<td>
<p>a named vector of the form <code>c(var1='type', var2='type2')</code> specifying the type of contrast to use,
one of <code>'deviation'</code>, <code>'simple'</code>, <code>'dummy'</code>, <code>'difference'</code>, <code>'helmert'</code>, <code>'repeated'</code> or <code>'polynomial'</code>.
If NULL, <code>'simple'</code> is used. Can also be passed as a list of list of the form <code>list(list(var='var1',type='type1'))</code>.</p>
</td></tr>
<tr valign="top"><td><code>showRealNames</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide raw
names of the contrasts variables</p>
</td></tr>
<tr valign="top"><td><code>showContrastCode</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide
contrast coefficients tables</p>
</td></tr>
<tr valign="top"><td><code>plotHAxis</code></td>
<td>
<p>a string naming the variable placed on the horizontal axis
of the plot</p>
</td></tr>
<tr valign="top"><td><code>plotSepLines</code></td>
<td>
<p>a string naming the variable represented as separate
lines on the plot</p>
</td></tr>
<tr valign="top"><td><code>plotSepPlots</code></td>
<td>
<p>the variable for whose levels multiple plots are
computed</p>
</td></tr>
<tr valign="top"><td><code>plotRaw</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide descriptive
statistics</p>
</td></tr>
<tr valign="top"><td><code>plotDvScale</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), scale the plot
Y-Axis to the max and the min of the dependent variable observed scores.</p>
</td></tr>
<tr valign="top"><td><code>plotError</code></td>
<td>
<p><code>'none'</code>, <code>'ci'</code> (default), or <code>'se'</code>. Use
no error bars, use confidence intervals, or use standard errors on the
plots, respectively</p>
</td></tr>
<tr valign="top"><td><code>ciWidth</code></td>
<td>
<p>a number between 50 and 99.9 (default: 95) specifying the
confidence interval width</p>
</td></tr>
<tr valign="top"><td><code>postHoc</code></td>
<td>
<p>a list of terms to perform post-hoc tests on</p>
</td></tr>
<tr valign="top"><td><code>eDesc</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide lsmeans
statistics</p>
</td></tr>
<tr valign="top"><td><code>eCovs</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide lsmeans
statistics</p>
</td></tr>
<tr valign="top"><td><code>simpleVariable</code></td>
<td>
<p>The variable for which the simple effects (slopes)
are computed</p>
</td></tr>
<tr valign="top"><td><code>simpleModerator</code></td>
<td>
<p>the variable that provides the levels at which the
simple effects computed</p>
</td></tr>
<tr valign="top"><td><code>simple3way</code></td>
<td>
<p>a moderator of the two-way interaction which is probed</p>
</td></tr>
<tr valign="top"><td><code>simpleScale</code></td>
<td>
<p><code>'mean_sd'</code> (default), <code>'custom'</code> , or
<code>'custom_percent'</code>. Use to condition the covariates (if any)</p>
</td></tr>
<tr valign="top"><td><code>cvalue</code></td>
<td>
<p>offset value for conditioning</p>
</td></tr>
<tr valign="top"><td><code>percvalue</code></td>
<td>
<p>offset value for conditioning</p>
</td></tr>
<tr valign="top"><td><code>simpleScaleLabels</code></td>
<td>
<p>decide the labeling of simple effects in tables
and plots.  <code>labels</code> indicates that only labels are used, such as
<code>Mean</code> and  <code>Mean + 1 SD</code>. <code>values</code> uses the actual values
as labels. <code>values_labels</code> uses both.</p>
</td></tr>
<tr valign="top"><td><code>postHocCorr</code></td>
<td>
<p>one or more of <code>'none'</code>,  <code>'bonf'</code>, or
<code>'holm'</code>; provide no,  Bonferroni, and Holm Post Hoc corrections
respectively</p>
</td></tr>
<tr valign="top"><td><code>scaling</code></td>
<td>
<p>a named vector of the form <code>c(var1='type1',var2='type2')</code>. Types are
<code>'centered'</code> to the mean, <code>'clusterbasedcentered'</code> to the mean of each cluster, <code>'standardized'</code>,
<code>'clusterbasedstandardized'</code> standardized within each cluster, log-transformed <code>'log'</code>,  or <code>'none'</code>.
<code>'none'</code> leaves the variable as it is. It can also be passed as a list of lists.</p>
</td></tr>
<tr valign="top"><td><code>dep_scale</code></td>
<td>
<p>Re-scale the dependent variable. It could be  <code>'centered'</code> to the mean, <code>'clusterbasedcentered'</code> to the mean of each cluster, <code>'standardized'</code>,
<code>'clusterbasedstandardized'</code> standardized within each cluster, log-transformed <code>'log'</code>,  or <code>'none'</code> (default).</p>
</td></tr>
<tr valign="top"><td><code>cluster</code></td>
<td>
<p>a vector of strings naming the clustering variables from
<code>data</code></p>
</td></tr>
<tr valign="top"><td><code>randomTerms</code></td>
<td>
<p>a list of lists specifying the models random effects.</p>
</td></tr>
<tr valign="top"><td><code>correlatedEffects</code></td>
<td>
<p><code>'nocorr'</code>, <code>'corr'</code> (default), or
<code>'block'</code>. When random effects are passed as list of length 1, it
decides whether the effects should be correlated,  non correlated. If
<code>'randomTerms'</code> is a list of  lists of length &gt; 1, the option is
automatially set to <code>'block'</code>. The option is ignored if the model is
passed using <code>formula</code>.</p>
</td></tr>
<tr valign="top"><td><code>reml</code></td>
<td>
<p><code>TRUE</code> (default) or <code>FALSE</code>, should the Restricted ML
be used rather than ML</p>
</td></tr>
<tr valign="top"><td><code>lrtRandomEffects</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), LRT for the
random effects</p>
</td></tr>
<tr valign="top"><td><code>plotRandomEffects</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), add random
effects predicted values in the plot</p>
</td></tr>
<tr valign="top"><td><code>cimethod</code></td>
<td>
<p>.</p>
</td></tr>
<tr valign="top"><td><code>dfmethod</code></td>
<td>
<p>.</p>
</td></tr>
<tr valign="top"><td><code>qq</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide a Q-Q plot of
residuals</p>
</td></tr>
<tr valign="top"><td><code>normTest</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide a test for
normality of residuals</p>
</td></tr>
<tr valign="top"><td><code>normPlot</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide a histogram
of residuals superimposed by a normal distribution</p>
</td></tr>
<tr valign="top"><td><code>residPlot</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide a
scatterplot of the residuals against predicted</p>
</td></tr>
<tr valign="top"><td><code>clusterBoxplot</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide a
boxplot of random effects by the first defined clustering variable</p>
</td></tr>
<tr valign="top"><td><code>randHist</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> (default), provide histogram of
random Coefficients</p>
</td></tr>
<tr valign="top"><td><code>formula</code></td>
<td>
<p>(optional) the formula to use, see the examples#'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;">
  <code>results$model</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> The underlying <code>lm</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$info</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$main$anova</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table of ANOVA results </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$main$fixed</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$main$random</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$main$randomCov</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$main$lrtRandomEffectsTable</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$main$contrastCodeTables</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an array of contrast coefficients tables </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$postHocs</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an array of post-hoc tables </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$simpleEffects$Anova</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table of ANOVA for simple effects </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$simpleEffects$Params</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$emeansTables</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an array of predicted means tables </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$descPlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a descriptives plot </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$descPlots</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an array of results plots </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$plotnotes</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a html </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$assumptions$normTest</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table of normality tests </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$assumptions$qq</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a q-q plot </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$assumptions$normPlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> Residual histogram </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$assumptions$residPlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> Residual Predicted plot </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$assumptions$clusterBoxplot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> Residuals boxplot by cluster </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>results$assumptions$randHist</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an array of random coefficients histograms </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Tables can be converted to data frames with <code>asDF</code> or <code>as.data.frame</code>. For example:
</p>
<p><code>results$info$asDF</code>
</p>
<p><code>as.data.frame(results$info)</code>
</p>


<h3>Examples</h3>

<pre>
data(subjects_by_stimuli)

gamlj::gamljMixed(
       formula = y ~ 1 + cond+( 1|subj ),
       data = subjects_by_stimuli)

gamlj::gamljMixed(
       data = subjects_by_stimuli,
       dep = "y",
       factors = "cond",
       modelTerms = "cond",
       cluster = "subj",
       randomTerms=list(list(c("cond","subj"))))
       
</pre>


</body></html>
